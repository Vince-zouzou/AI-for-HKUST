import streamlit as st
from bertopic import BERTopic
from sentence_transformers import SentenceTransformer
from openai import AzureOpenAI, BadRequestError
import streamlit as st
from streamlit_chat import message


# Trainer Class: Handles model training and topic extraction
from sklearn.metrics.pairwise import cosine_similarity

class Trainer:
    def __init__(self, embedding_model_name="all-MiniLM-L6-v2"):
        """
        Initialize the Trainer with a SentenceTransformer embedding model.
        """
        self.embedding_model = SentenceTransformer(embedding_model_name)
        self.model = None
        self.documents = []  # Store the documents used for training
        self.doc_embeddings = None  # Store embeddings of the documents

    def train_model_from_file(self) -> BERTopic:
        """
        Train the BERTopic model with documents from a text file.
        :param file_path: Path to the text file containing documents.
        :return: A trained BERTopic model.
        """
        # Read documents from file
        text = "Chapter 1: What is Sun Wukong's nickname?, Chapter 1: Who is the main character of Journey to the West?, Chapter 1: How many disciples does Tang Sanzang have?, Chapter 1: What is the name of Sun Wukong's weapon?, Chapter 1: What is the name of the mountain where Sun Wukong was born?, Chapter 1: Which animal form does Zhu Bajie resemble?, Chapter 1: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 1: What does Sun Wukong use to travel great distances quickly?, Chapter 1: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 1: What does the title 'Journey to the West' refer to?, Chapter 1: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 1: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 1: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 1: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 1: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 1: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 1: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 1: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 1: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 1: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 1: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 1: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 1: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 1: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 1: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 2: What is Sun Wukong's nickname?, Chapter 2: Who is the main character of Journey to the West?, Chapter 2: How many disciples does Tang Sanzang have?, Chapter 2: What is the name of Sun Wukong's weapon?, Chapter 2: What is the name of the mountain where Sun Wukong was born?, Chapter 2: Which animal form does Zhu Bajie resemble?, Chapter 2: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 2: What does Sun Wukong use to travel great distances quickly?, Chapter 2: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 2: What does the title 'Journey to the West' refer to?, Chapter 2: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 2: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 2: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 2: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 2: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 2: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 2: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 2: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 2: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 2: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 2: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 2: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 2: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 2: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 2: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 3: What is Sun Wukong's nickname?, Chapter 3: Who is the main character of Journey to the West?, Chapter 3: How many disciples does Tang Sanzang have?, Chapter 3: What is the name of Sun Wukong's weapon?, Chapter 3: What is the name of the mountain where Sun Wukong was born?, Chapter 3: Which animal form does Zhu Bajie resemble?, Chapter 3: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 3: What does Sun Wukong use to travel great distances quickly?, Chapter 3: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 3: What does the title 'Journey to the West' refer to?, Chapter 3: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 3: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 3: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 3: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 3: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 3: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 3: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 3: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 3: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 3: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 3: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 3: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 3: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 3: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 3: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 4: What is Sun Wukong's nickname?, Chapter 4: Who is the main character of Journey to the West?, Chapter 4: How many disciples does Tang Sanzang have?, Chapter 4: What is the name of Sun Wukong's weapon?, Chapter 4: What is the name of the mountain where Sun Wukong was born?, Chapter 4: Which animal form does Zhu Bajie resemble?, Chapter 4: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 4: What does Sun Wukong use to travel great distances quickly?, Chapter 4: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 4: What does the title 'Journey to the West' refer to?, Chapter 4: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 4: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 4: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 4: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 4: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 4: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 4: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 4: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 4: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 4: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 4: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 4: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 4: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 4: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 4: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 5: What is Sun Wukong's nickname?, Chapter 5: Who is the main character of Journey to the West?, Chapter 5: How many disciples does Tang Sanzang have?, Chapter 5: What is the name of Sun Wukong's weapon?, Chapter 5: What is the name of the mountain where Sun Wukong was born?, Chapter 5: Which animal form does Zhu Bajie resemble?, Chapter 5: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 5: What does Sun Wukong use to travel great distances quickly?, Chapter 5: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 5: What does the title 'Journey to the West' refer to?, Chapter 5: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 5: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 5: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 5: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 5: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 5: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 5: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 5: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 5: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 5: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 5: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 5: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 5: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 5: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 5: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 6: What is Sun Wukong's nickname?, Chapter 6: Who is the main character of Journey to the West?, Chapter 6: How many disciples does Tang Sanzang have?, Chapter 6: What is the name of Sun Wukong's weapon?, Chapter 6: What is the name of the mountain where Sun Wukong was born?, Chapter 6: Which animal form does Zhu Bajie resemble?, Chapter 6: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 6: What does Sun Wukong use to travel great distances quickly?, Chapter 6: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 6: What does the title 'Journey to the West' refer to?, Chapter 6: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 6: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 6: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 6: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 6: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 6: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 6: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 6: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 6: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 6: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 6: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 6: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 6: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 6: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 6: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 7: What is Sun Wukong's nickname?, Chapter 7: Who is the main character of Journey to the West?, Chapter 7: How many disciples does Tang Sanzang have?, Chapter 7: What is the name of Sun Wukong's weapon?, Chapter 7: What is the name of the mountain where Sun Wukong was born?, Chapter 7: Which animal form does Zhu Bajie resemble?, Chapter 7: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 7: What does Sun Wukong use to travel great distances quickly?, Chapter 7: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 7: What does the title 'Journey to the West' refer to?, Chapter 7: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 7: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 7: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 7: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 7: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 7: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 7: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 7: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 7: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 7: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 7: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 7: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 7: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 7: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 7: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 8: What is Sun Wukong's nickname?, Chapter 8: Who is the main character of Journey to the West?, Chapter 8: How many disciples does Tang Sanzang have?, Chapter 8: What is the name of Sun Wukong's weapon?, Chapter 8: What is the name of the mountain where Sun Wukong was born?, Chapter 8: Which animal form does Zhu Bajie resemble?, Chapter 8: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 8: What does Sun Wukong use to travel great distances quickly?, Chapter 8: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 8: What does the title 'Journey to the West' refer to?, Chapter 8: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 8: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 8: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 8: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 8: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 8: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 8: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 8: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 8: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 8: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 8: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 8: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 8: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 8: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 8: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 9: What is Sun Wukong's nickname?, Chapter 9: Who is the main character of Journey to the West?, Chapter 9: How many disciples does Tang Sanzang have?, Chapter 9: What is the name of Sun Wukong's weapon?, Chapter 9: What is the name of the mountain where Sun Wukong was born?, Chapter 9: Which animal form does Zhu Bajie resemble?, Chapter 9: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 9: What does Sun Wukong use to travel great distances quickly?, Chapter 9: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 9: What does the title 'Journey to the West' refer to?, Chapter 9: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 9: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 9: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 9: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 9: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 9: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 9: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 9: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 9: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 9: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 9: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 9: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 9: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 9: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 9: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 10: What is Sun Wukong's nickname?, Chapter 10: Who is the main character of Journey to the West?, Chapter 10: How many disciples does Tang Sanzang have?, Chapter 10: What is the name of Sun Wukong's weapon?, Chapter 10: What is the name of the mountain where Sun Wukong was born?, Chapter 10: Which animal form does Zhu Bajie resemble?, Chapter 10: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 10: What does Sun Wukong use to travel great distances quickly?, Chapter 10: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 10: What does the title 'Journey to the West' refer to?, Chapter 10: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 10: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 10: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 10: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 10: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 10: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 10: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 10: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 10: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 10: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 10: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 10: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 10: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 10: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 10: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 11: What is Sun Wukong's nickname?, Chapter 11: Who is the main character of Journey to the West?, Chapter 11: How many disciples does Tang Sanzang have?, Chapter 11: What is the name of Sun Wukong's weapon?, Chapter 11: What is the name of the mountain where Sun Wukong was born?, Chapter 11: Which animal form does Zhu Bajie resemble?, Chapter 11: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 11: What does Sun Wukong use to travel great distances quickly?, Chapter 11: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 11: What does the title 'Journey to the West' refer to?, Chapter 11: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 11: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 11: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 11: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 11: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 11: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 11: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 11: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 11: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 11: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 11: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 11: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 11: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 11: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 11: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 12: What is Sun Wukong's nickname?, Chapter 12: Who is the main character of Journey to the West?, Chapter 12: How many disciples does Tang Sanzang have?, Chapter 12: What is the name of Sun Wukong's weapon?, Chapter 12: What is the name of the mountain where Sun Wukong was born?, Chapter 12: Which animal form does Zhu Bajie resemble?, Chapter 12: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 12: What does Sun Wukong use to travel great distances quickly?, Chapter 12: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 12: What does the title 'Journey to the West' refer to?, Chapter 12: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 12: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 12: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 12: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 12: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 12: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 12: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 12: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 12: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 12: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 12: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 12: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 12: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 12: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 12: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 13: What is Sun Wukong's nickname?, Chapter 13: Who is the main character of Journey to the West?, Chapter 13: How many disciples does Tang Sanzang have?, Chapter 13: What is the name of Sun Wukong's weapon?, Chapter 13: What is the name of the mountain where Sun Wukong was born?, Chapter 13: Which animal form does Zhu Bajie resemble?, Chapter 13: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 13: What does Sun Wukong use to travel great distances quickly?, Chapter 13: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 13: What does the title 'Journey to the West' refer to?, Chapter 13: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 13: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 13: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 13: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 13: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 13: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 13: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 13: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 13: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 13: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 13: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 13: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 13: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 13: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 13: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 14: What is Sun Wukong's nickname?, Chapter 14: Who is the main character of Journey to the West?, Chapter 14: How many disciples does Tang Sanzang have?, Chapter 14: What is the name of Sun Wukong's weapon?, Chapter 14: What is the name of the mountain where Sun Wukong was born?, Chapter 14: Which animal form does Zhu Bajie resemble?, Chapter 14: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 14: What does Sun Wukong use to travel great distances quickly?, Chapter 14: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 14: What does the title 'Journey to the West' refer to?, Chapter 14: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 14: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 14: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 14: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 14: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 14: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 14: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 14: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 14: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 14: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 14: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 14: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 14: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 14: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 14: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 15: What is Sun Wukong's nickname?, Chapter 15: Who is the main character of Journey to the West?, Chapter 15: How many disciples does Tang Sanzang have?, Chapter 15: What is the name of Sun Wukong's weapon?, Chapter 15: What is the name of the mountain where Sun Wukong was born?, Chapter 15: Which animal form does Zhu Bajie resemble?, Chapter 15: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 15: What does Sun Wukong use to travel great distances quickly?, Chapter 15: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 15: What does the title 'Journey to the West' refer to?, Chapter 15: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 15: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 15: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 15: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 15: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 15: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 15: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 15: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 15: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 15: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 15: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 15: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 15: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 15: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 15: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 16: What is Sun Wukong's nickname?, Chapter 16: Who is the main character of Journey to the West?, Chapter 16: How many disciples does Tang Sanzang have?, Chapter 16: What is the name of Sun Wukong's weapon?, Chapter 16: What is the name of the mountain where Sun Wukong was born?, Chapter 16: Which animal form does Zhu Bajie resemble?, Chapter 16: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 16: What does Sun Wukong use to travel great distances quickly?, Chapter 16: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 16: What does the title 'Journey to the West' refer to?, Chapter 16: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 16: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 16: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 16: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 16: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 16: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 16: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 16: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 16: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 16: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 16: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 16: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 16: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 16: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 16: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 17: What is Sun Wukong's nickname?, Chapter 17: Who is the main character of Journey to the West?, Chapter 17: How many disciples does Tang Sanzang have?, Chapter 17: What is the name of Sun Wukong's weapon?, Chapter 17: What is the name of the mountain where Sun Wukong was born?, Chapter 17: Which animal form does Zhu Bajie resemble?, Chapter 17: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 17: What does Sun Wukong use to travel great distances quickly?, Chapter 17: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 17: What does the title 'Journey to the West' refer to?, Chapter 17: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 17: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 17: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 17: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 17: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 17: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 17: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 17: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 17: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 17: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 17: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 17: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 17: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 17: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 17: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 18: What is Sun Wukong's nickname?, Chapter 18: Who is the main character of Journey to the West?, Chapter 18: How many disciples does Tang Sanzang have?, Chapter 18: What is the name of Sun Wukong's weapon?, Chapter 18: What is the name of the mountain where Sun Wukong was born?, Chapter 18: Which animal form does Zhu Bajie resemble?, Chapter 18: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 18: What does Sun Wukong use to travel great distances quickly?, Chapter 18: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 18: What does the title 'Journey to the West' refer to?, Chapter 18: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 18: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 18: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 18: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 18: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 18: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 18: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 18: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 18: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 18: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 18: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 18: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 18: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 18: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 18: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 19: What is Sun Wukong's nickname?, Chapter 19: Who is the main character of Journey to the West?, Chapter 19: How many disciples does Tang Sanzang have?, Chapter 19: What is the name of Sun Wukong's weapon?, Chapter 19: What is the name of the mountain where Sun Wukong was born?, Chapter 19: Which animal form does Zhu Bajie resemble?, Chapter 19: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 19: What does Sun Wukong use to travel great distances quickly?, Chapter 19: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 19: What does the title 'Journey to the West' refer to?, Chapter 19: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 19: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 19: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 19: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 19: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 19: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 19: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 19: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 19: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 19: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 19: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 19: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 19: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 19: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 19: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 20: What is Sun Wukong's nickname?, Chapter 20: Who is the main character of Journey to the West?, Chapter 20: How many disciples does Tang Sanzang have?, Chapter 20: What is the name of Sun Wukong's weapon?, Chapter 20: What is the name of the mountain where Sun Wukong was born?, Chapter 20: Which animal form does Zhu Bajie resemble?, Chapter 20: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 20: What does Sun Wukong use to travel great distances quickly?, Chapter 20: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 20: What does the title 'Journey to the West' refer to?, Chapter 20: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 20: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 20: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 20: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 20: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 20: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 20: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 20: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 20: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 20: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 20: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 20: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 20: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 20: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 20: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 21: What is Sun Wukong's nickname?, Chapter 21: Who is the main character of Journey to the West?, Chapter 21: How many disciples does Tang Sanzang have?, Chapter 21: What is the name of Sun Wukong's weapon?, Chapter 21: What is the name of the mountain where Sun Wukong was born?, Chapter 21: Which animal form does Zhu Bajie resemble?, Chapter 21: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 21: What does Sun Wukong use to travel great distances quickly?, Chapter 21: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 21: What does the title 'Journey to the West' refer to?, Chapter 21: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 21: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 21: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 21: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 21: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 21: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 21: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 21: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 21: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 21: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 21: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 21: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 21: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 21: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 21: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 22: What is Sun Wukong's nickname?, Chapter 22: Who is the main character of Journey to the West?, Chapter 22: How many disciples does Tang Sanzang have?, Chapter 22: What is the name of Sun Wukong's weapon?, Chapter 22: What is the name of the mountain where Sun Wukong was born?, Chapter 22: Which animal form does Zhu Bajie resemble?, Chapter 22: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 22: What does Sun Wukong use to travel great distances quickly?, Chapter 22: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 22: What does the title 'Journey to the West' refer to?, Chapter 22: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 22: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 22: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 22: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 22: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 22: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 22: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 22: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 22: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 22: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 22: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 22: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 22: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 22: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 22: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 23: What is Sun Wukong's nickname?, Chapter 23: Who is the main character of Journey to the West?, Chapter 23: How many disciples does Tang Sanzang have?, Chapter 23: What is the name of Sun Wukong's weapon?, Chapter 23: What is the name of the mountain where Sun Wukong was born?, Chapter 23: Which animal form does Zhu Bajie resemble?, Chapter 23: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 23: What does Sun Wukong use to travel great distances quickly?, Chapter 23: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 23: What does the title 'Journey to the West' refer to?, Chapter 23: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 23: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 23: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 23: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 23: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 23: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 23: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 23: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 23: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 23: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 23: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 23: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 23: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 23: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 23: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 24: What is Sun Wukong's nickname?, Chapter 24: Who is the main character of Journey to the West?, Chapter 24: How many disciples does Tang Sanzang have?, Chapter 24: What is the name of Sun Wukong's weapon?, Chapter 24: What is the name of the mountain where Sun Wukong was born?, Chapter 24: Which animal form does Zhu Bajie resemble?, Chapter 24: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 24: What does Sun Wukong use to travel great distances quickly?, Chapter 24: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 24: What does the title 'Journey to the West' refer to?, Chapter 24: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 24: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 24: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 24: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 24: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 24: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 24: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 24: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 24: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 24: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 24: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 24: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 24: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 24: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 24: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 25: What is Sun Wukong's nickname?, Chapter 25: Who is the main character of Journey to the West?, Chapter 25: How many disciples does Tang Sanzang have?, Chapter 25: What is the name of Sun Wukong's weapon?, Chapter 25: What is the name of the mountain where Sun Wukong was born?, Chapter 25: Which animal form does Zhu Bajie resemble?, Chapter 25: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 25: What does Sun Wukong use to travel great distances quickly?, Chapter 25: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 25: What does the title 'Journey to the West' refer to?, Chapter 25: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 25: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 25: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 25: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 25: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 25: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 25: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 25: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 25: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 25: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 25: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 25: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 25: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 25: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 25: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 26: What is Sun Wukong's nickname?, Chapter 26: Who is the main character of Journey to the West?, Chapter 26: How many disciples does Tang Sanzang have?, Chapter 26: What is the name of Sun Wukong's weapon?, Chapter 26: What is the name of the mountain where Sun Wukong was born?, Chapter 26: Which animal form does Zhu Bajie resemble?, Chapter 26: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 26: What does Sun Wukong use to travel great distances quickly?, Chapter 26: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 26: What does the title 'Journey to the West' refer to?, Chapter 26: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 26: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 26: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 26: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 26: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 26: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 26: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 26: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 26: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 26: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 26: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 26: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 26: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 26: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 26: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 27: What is Sun Wukong's nickname?, Chapter 27: Who is the main character of Journey to the West?, Chapter 27: How many disciples does Tang Sanzang have?, Chapter 27: What is the name of Sun Wukong's weapon?, Chapter 27: What is the name of the mountain where Sun Wukong was born?, Chapter 27: Which animal form does Zhu Bajie resemble?, Chapter 27: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 27: What does Sun Wukong use to travel great distances quickly?, Chapter 27: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 27: What does the title 'Journey to the West' refer to?, Chapter 27: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 27: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 27: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 27: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 27: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 27: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 27: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 27: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 27: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 27: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 27: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 27: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 27: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 27: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 27: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 28: What is Sun Wukong's nickname?, Chapter 28: Who is the main character of Journey to the West?, Chapter 28: How many disciples does Tang Sanzang have?, Chapter 28: What is the name of Sun Wukong's weapon?, Chapter 28: What is the name of the mountain where Sun Wukong was born?, Chapter 28: Which animal form does Zhu Bajie resemble?, Chapter 28: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 28: What does Sun Wukong use to travel great distances quickly?, Chapter 28: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 28: What does the title 'Journey to the West' refer to?, Chapter 28: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 28: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 28: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 28: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 28: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 28: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 28: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 28: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 28: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 28: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 28: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 28: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 28: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 28: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 28: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 29: What is Sun Wukong's nickname?, Chapter 29: Who is the main character of Journey to the West?, Chapter 29: How many disciples does Tang Sanzang have?, Chapter 29: What is the name of Sun Wukong's weapon?, Chapter 29: What is the name of the mountain where Sun Wukong was born?, Chapter 29: Which animal form does Zhu Bajie resemble?, Chapter 29: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 29: What does Sun Wukong use to travel great distances quickly?, Chapter 29: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 29: What does the title 'Journey to the West' refer to?, Chapter 29: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 29: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 29: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 29: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 29: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 29: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 29: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 29: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 29: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 29: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 29: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 29: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 29: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 29: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 29: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 30: What is Sun Wukong's nickname?, Chapter 30: Who is the main character of Journey to the West?, Chapter 30: How many disciples does Tang Sanzang have?, Chapter 30: What is the name of Sun Wukong's weapon?, Chapter 30: What is the name of the mountain where Sun Wukong was born?, Chapter 30: Which animal form does Zhu Bajie resemble?, Chapter 30: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 30: What does Sun Wukong use to travel great distances quickly?, Chapter 30: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 30: What does the title 'Journey to the West' refer to?, Chapter 30: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 30: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 30: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 30: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 30: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 30: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 30: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 30: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 30: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 30: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 30: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 30: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 30: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 30: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 30: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 31: What is Sun Wukong's nickname?, Chapter 31: Who is the main character of Journey to the West?, Chapter 31: How many disciples does Tang Sanzang have?, Chapter 31: What is the name of Sun Wukong's weapon?, Chapter 31: What is the name of the mountain where Sun Wukong was born?, Chapter 31: Which animal form does Zhu Bajie resemble?, Chapter 31: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 31: What does Sun Wukong use to travel great distances quickly?, Chapter 31: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 31: What does the title 'Journey to the West' refer to?, Chapter 31: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 31: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 31: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 31: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 31: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 31: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 31: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 31: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 31: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 31: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 31: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 31: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 31: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 31: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 31: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 32: What is Sun Wukong's nickname?, Chapter 32: Who is the main character of Journey to the West?, Chapter 32: How many disciples does Tang Sanzang have?, Chapter 32: What is the name of Sun Wukong's weapon?, Chapter 32: What is the name of the mountain where Sun Wukong was born?, Chapter 32: Which animal form does Zhu Bajie resemble?, Chapter 32: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 32: What does Sun Wukong use to travel great distances quickly?, Chapter 32: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 32: What does the title 'Journey to the West' refer to?, Chapter 32: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 32: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 32: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 32: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 32: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 32: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 32: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 32: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 32: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 32: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 32: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 32: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 32: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 32: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 32: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 33: What is Sun Wukong's nickname?, Chapter 33: Who is the main character of Journey to the West?, Chapter 33: How many disciples does Tang Sanzang have?, Chapter 33: What is the name of Sun Wukong's weapon?, Chapter 33: What is the name of the mountain where Sun Wukong was born?, Chapter 33: Which animal form does Zhu Bajie resemble?, Chapter 33: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 33: What does Sun Wukong use to travel great distances quickly?, Chapter 33: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 33: What does the title 'Journey to the West' refer to?, Chapter 33: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 33: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 33: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 33: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 33: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 33: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 33: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 33: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 33: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 33: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 33: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 33: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 33: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 33: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 33: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 34: What is Sun Wukong's nickname?, Chapter 34: Who is the main character of Journey to the West?, Chapter 34: How many disciples does Tang Sanzang have?, Chapter 34: What is the name of Sun Wukong's weapon?, Chapter 34: What is the name of the mountain where Sun Wukong was born?, Chapter 34: Which animal form does Zhu Bajie resemble?, Chapter 34: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 34: What does Sun Wukong use to travel great distances quickly?, Chapter 34: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 34: What does the title 'Journey to the West' refer to?, Chapter 34: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 34: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 34: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 34: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 34: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 34: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 34: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 34: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 34: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 34: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 34: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 34: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 34: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 34: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 34: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 35: What is Sun Wukong's nickname?, Chapter 35: Who is the main character of Journey to the West?, Chapter 35: How many disciples does Tang Sanzang have?, Chapter 35: What is the name of Sun Wukong's weapon?, Chapter 35: What is the name of the mountain where Sun Wukong was born?, Chapter 35: Which animal form does Zhu Bajie resemble?, Chapter 35: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 35: What does Sun Wukong use to travel great distances quickly?, Chapter 35: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 35: What does the title 'Journey to the West' refer to?, Chapter 35: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 35: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 35: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 35: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 35: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 35: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 35: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 35: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 35: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 35: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 35: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 35: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 35: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 35: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 35: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 36: What is Sun Wukong's nickname?, Chapter 36: Who is the main character of Journey to the West?, Chapter 36: How many disciples does Tang Sanzang have?, Chapter 36: What is the name of Sun Wukong's weapon?, Chapter 36: What is the name of the mountain where Sun Wukong was born?, Chapter 36: Which animal form does Zhu Bajie resemble?, Chapter 36: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 36: What does Sun Wukong use to travel great distances quickly?, Chapter 36: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 36: What does the title 'Journey to the West' refer to?, Chapter 36: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 36: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 36: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 36: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 36: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 36: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 36: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 36: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 36: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 36: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 36: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 36: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 36: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 36: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 36: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 37: What is Sun Wukong's nickname?, Chapter 37: Who is the main character of Journey to the West?, Chapter 37: How many disciples does Tang Sanzang have?, Chapter 37: What is the name of Sun Wukong's weapon?, Chapter 37: What is the name of the mountain where Sun Wukong was born?, Chapter 37: Which animal form does Zhu Bajie resemble?, Chapter 37: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 37: What does Sun Wukong use to travel great distances quickly?, Chapter 37: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 37: What does the title 'Journey to the West' refer to?, Chapter 37: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 37: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 37: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 37: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 37: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 37: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 37: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 37: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 37: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 37: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 37: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 37: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 37: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 37: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 37: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 38: What is Sun Wukong's nickname?, Chapter 38: Who is the main character of Journey to the West?, Chapter 38: How many disciples does Tang Sanzang have?, Chapter 38: What is the name of Sun Wukong's weapon?, Chapter 38: What is the name of the mountain where Sun Wukong was born?, Chapter 38: Which animal form does Zhu Bajie resemble?, Chapter 38: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 38: What does Sun Wukong use to travel great distances quickly?, Chapter 38: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 38: What does the title 'Journey to the West' refer to?, Chapter 38: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 38: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 38: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 38: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 38: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 38: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 38: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 38: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 38: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 38: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 38: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 38: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 38: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 38: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 38: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 39: What is Sun Wukong's nickname?, Chapter 39: Who is the main character of Journey to the West?, Chapter 39: How many disciples does Tang Sanzang have?, Chapter 39: What is the name of Sun Wukong's weapon?, Chapter 39: What is the name of the mountain where Sun Wukong was born?, Chapter 39: Which animal form does Zhu Bajie resemble?, Chapter 39: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 39: What does Sun Wukong use to travel great distances quickly?, Chapter 39: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 39: What does the title 'Journey to the West' refer to?, Chapter 39: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 39: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 39: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 39: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 39: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 39: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 39: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 39: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 39: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 39: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 39: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 39: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 39: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 39: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 39: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 40: What is Sun Wukong's nickname?, Chapter 40: Who is the main character of Journey to the West?, Chapter 40: How many disciples does Tang Sanzang have?, Chapter 40: What is the name of Sun Wukong's weapon?, Chapter 40: What is the name of the mountain where Sun Wukong was born?, Chapter 40: Which animal form does Zhu Bajie resemble?, Chapter 40: Who gave Tang Sanzang the mission to retrieve the scriptures?, Chapter 40: What does Sun Wukong use to travel great distances quickly?, Chapter 40: What punishment did Zhu Bajie receive for his behavior in Heaven?, Chapter 40: What does the title 'Journey to the West' refer to?, Chapter 40: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 40: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 40: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 40: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 40: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?, Chapter 40: Why does Sun Wukong repeatedly defy authority figures, including those in Heaven?, Chapter 40: What role does Guanyin play in assembling Tang Sanzang's disciples?, Chapter 40: How do the different challenges on the journey reflect the internal struggles of the characters?, Chapter 40: What is the significance of the blank scriptures Tang Sanzang receives at the end of the journey?, Chapter 40: How does the theme of redemption manifest in the story arcs of the disciples?, Chapter 40: What does the stone from which Sun Wukong was born symbolize in Chinese mythology?, Chapter 40: How does Sun Wukong's personality evolve after his time under the Five Finger Mountain?, Chapter 40: Why did the Heavenly Court initially try to pacify Sun Wukong with a minor official position?, Chapter 40: What philosophical ideas are reflected in Tang Sanzang's insistence on non-violence?, Chapter 40: How does Zhu Bajie's character reflect the theme of human desires in Journey to the West?,"
        self.documents = text.split(',')

        # Compute document embeddings
        self.doc_embeddings = self.embedding_model.encode(self.documents)

        # Initialize and train BERTopic model
        self.model = BERTopic(embedding_model=self.embedding_model)
        self.model.fit(self.documents)
        return self.model

    def find_most_relevant_document(self, query: str) -> str:
        """
        找到与用户查询最相关的文档。
        :param query: 用户输入的查询。
        :return: 最相关的文档字符串。
        """
        if self.doc_embeddings is None or not self.documents:
            raise ValueError("模型尚未训练，或文档不可用。")

        # 将查询转换为嵌入
        query_embedding = self.embedding_model.encode([query])

        # 计算查询与文档嵌入之间的余弦相似度
        similarities = cosine_similarity(query_embedding, self.doc_embeddings).flatten()

        # 确保相似度是有效数组后再使用 argmax
        if similarities.size == 0:
            raise ValueError("未计算出相似度。请检查输入或嵌入数据。")

    # 找到最相似文档的索引
        most_relevant_index = similarities.argmax()

        return self.documents[most_relevant_index]
# Talker Class: Handles interaction with Azure OpenAI GPT API
class Talker:
    def __init__(self, api_key, api_version="2023-05-15", azure_endpoint="https://hkust.azure-api.net"):
        """
        Initialize the Talker with Azure OpenAI credentials.
        """
        self.client = AzureOpenAI(api_key=api_key, api_version=api_version, azure_endpoint=azure_endpoint)

    def get_response(self, query: str, instruction: str) -> str:
        """
        Generate a semantic search response using Azure OpenAI.
        :param query: User's input query.
        :param instruction: Additional instructions for GPT to enhance the query.
        :return: The response generated by GPT.
        """
        response = self.client.chat.completions.create(
            model="gpt-35-turbo",
            temperature=1,
            messages=[
                {"role": "system", "content": instruction},
                {"role": "user", "content": query}
            ]
        )
        return response.choices[0].message.content



class ChatBotPage:
    def __init__(self, analyzer_function):
        """
        初始化聊天机器人页面。
        :param analyzer_function: 外部分析逻辑函数，用于生成机器人回复
        """
        self.analyzer_function = analyzer_function  # 外部分析函数
        self.init_session_state()

    def init_session_state(self):
        """初始化会话状态"""
        if "generated" not in st.session_state:
            st.session_state["generated"] = []  # 保存机器人回答
        if "past" not in st.session_state:
            st.session_state["past"] = []  # 保存用户输入

    def add_to_chat_history(self, sender, message_text):
        """
        添加消息到聊天记录。
        :param sender: 消息发送者 ("user" 或 "assistant")
        :param message_text: 消息内容
        """
        if sender == "Professor JC's Best Friend":
            st.session_state["generated"].append(message_text)
        elif sender == "You":
            st.session_state["past"].append(message_text)
        else:
            raise ValueError("Sender must be 'user' or 'assistant'.")

    def render_chat_interface(self):
        """渲染聊天界面"""
        st.title("Ask me anything you want to know about The book Journey to the West.")
        st.write("👋 I will try my best to tell you what you want !")
        st.divider()  # 分隔符

        # 用户输入区域
        with st.form("chat_input_form", clear_on_submit=True):
            user_input = st.text_input("Tell me your Wonders", key="input")
            submitted = st.form_submit_button("Send")

        if submitted and user_input.strip():
            # 添加用户输入到聊天记录
            self.add_to_chat_history("You", user_input)

            # 调用外部分析函数获取机器人回复
            bot_response = self.analyzer_function(user_input)
            self.add_to_chat_history("Professor JC's Best Friend", bot_response)

        # 显示聊天记录
        self.display_chat_history()

    def display_chat_history(self):
        """显示聊天记录"""
        if st.session_state["generated"]:
            for i in range(len(st.session_state["generated"])):
                # 显示用户消息
                message(st.session_state["past"][i], is_user=True, key=f"user_{i}")
                # 显示机器人消息
                message(st.session_state["generated"][i], key=f"bot_{i}")


# 示例外部函数：分析用户输入
def analyze_user_input(user_input):
    """
    外部分析逻辑，根据用户输入生成回复。
    :param user_input: 用户输入文本
    :return: 分析结果作为机器人回复
    """
    try:
        # 找到最相关的文档
        relevant_document = trainer.find_most_relevant_document(user_input)
        print("r         :{}".format(relevant_document))
        # 使用最相关文档作为上下文传递给 Talker
        # 生成最终回复
        final_response = talker.get_response(relevant_document, "Find online public information on this")
        print("f         :{}".format(final_response))    
        return final_response

    except Exception as e:
        # 优雅地处理错误
        st.error(f"处理时发生错误: {e}")
        return "我无法处理您的请求，请重试。"

# 创建页面实例并渲染
if __name__ == "__main__":
    trainer = Trainer()
    talker = Talker(api_key='d4954786fb0f4a3e8a85fe828fc079bf')  # Replace with your actual API key

    # Train the model using JC.txt
    model = trainer.train_model_from_file()  # Use the file path to JC.txt
    chatbot_page = ChatBotPage(analyze_user_input)
    chatbot_page.render_chat_interface()